<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vue Boolzapp</title>
    <!-- POPPINS FONT -->
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap"
      rel="stylesheet"/>    
    <!-- fontoso -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- css -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    
    <div id="app">
        
        <div class="bg-container">
            <div class="container">
                <div class="innercontainer">
                    <div class="left-innercontainer">
                        <div class="left-top-navbar">
                            <div class="left-usercontact">
                               <div class="contianeierimg">
                                    <img src="img/avatar_io.jpg" alt="">
                               </div>
                               <div>Sofia</div>
                            </div>
                            <div class="left-user-navbar">
                                <i class="fas fa-spinner"></i>
                                <i class="fas fa-comment-alt"></i>
                                <i class="fas fa-ellipsis-v"></i>              
                            </div>
                        </div>
                        <div class="left-main">
                            <div class="left-notification">
                                <div id="bell">
                                    <i class="far fa-bell-slash"></i>
                                </div>
                                <div>
                                    <h5>Ricevi notifiche di nuovi messaggi</h5>
                                    <a href="">Attiva le notifiche desktop</a>
                                </div>                
                            </div>
                            <div class="inputcontainer left-input-search">
                                <span class="serachicon">
                                    <i class="fas fa-search"></i>
                                </span>
                                <input type="search" @keyup="search" v-model="searchcontact" placeholder="Cerca"/>
                            </div>
                            <div class="left-chats-list">
                                <div class="contactschat" 
                                v-show="contact.visible == true"
                                v-for="(contact,index) in contacts"
                                :class=" index ==  activechat ? 'active' : '' "
                                @click="currentchat(index)">
                                    <div class="single-left-chats">
                                        <div class="contianeierimg" >
                                            <img :src="contacts[index].avatar"alt="{{contacts[index].name}}">
                                        </div>
                                        <div class="info-chats">
                                            <h4>
                                                {{contacts[index].name}}
                                            </h4>
                                            <span>
                                                {{contact.messages[contact.messages.length - 1].message}}
                                            </span> 
                                        </div>
                                    </div>
                                    <div class="leftdatechats">
                                        <span>
                                            {{contact.messages[contact.messages.length - 1].date}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="right-innercontainer">
                        <div class="right-top-navbar">
                            <div class="usercurrent">
                                <div id="contianeierimgcurrentchat">
                                    <img :src="contacts[activechat].avatar"alt="{{contacts[index].name}}">
                                </div>
                                <div>{{contacts[activechat].name}}</div>
                            </div>
                            <!-- <div class="left-usercontact">
                                {{contacts[activechat].name}}
                            </div> -->
                            <div class="left-user-navbar">
                                <i class="fas fa-search"></i>
                                <i class="fas fa-paperclip"></i>
                                <i class="fas fa-ellipsis-v"></i>
                            </div>
                        </div>
                        <div class="right-main">
                            <div class="chatcontainer" v-for="(message,index) in contacts[activechat].messages">
                                <div :class="{
                                    'msgrecived': message.status == 'received',
                                    'msgsent': message.status == 'sent',
                                }">
                                <h6>
                                    {{contacts[activechat].messages[index].date}}
                                </h6>
                                {{message.message}}
                                </div>
                            </div>
                        </div>
                        <div class="right-footer">
                            <div>
                                <i class="far fa-smile"></i>
                            </div>
                            <div class="inputcontainer right-input-message">
                                <input type="text" 
                                v-model="textmessagge"
                                @keyup.enter="addmessage()"
                                placeholder="Scrivi un messaggio"/>
                            </div>
                            <div>
                                <i class="fas fa-microphone"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    

    </div>
    


    <!--vue-->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!-- js -->
    <script type="text/javascript" src="js/scripts.js"></script>
</body>
</html>